{% extends 'home_layout.html' %}
{% load static %}

{% block content %}
<style>
/* Keyframes for the text fade-in animation */
@keyframes fadeIn {
 from {
 opacity: 0;
 }
 to {
 opacity: 1;
 }
}

.letter {
 opacity: 0;
 animation: fadeIn 2s ease forwards;
}

/* Masonry layout for the article grid */
.masonry {
 column-count: 3;
 column-gap: 1rem; /* Added gap between columns */
}

.masonry-item {
 break-inside: avoid;
 page-break-inside: avoid;
 display: block;
 margin-bottom: 1rem;
}

/* Responsive adjustments for smaller screens */
@media screen and (max-width: 1024px) {
 .masonry {
 column-count: 2;
 }
}

@media screen and (max-width: 767px) {
 .masonry {
 column-count: 1;
 }
}
</style>

<title>Mom's Guide to Motherhood - Advice, Articles & Community</title>
<meta name="description" content="A community and resource hub for moms at every stage of their journey. Find articles, advice, and support on pregnancy, baby care, working motherhood, and more.">
<meta property="og:title" content="Mom's Guide to Motherhood - Advice, Articles & Community">
<meta property="og:description" content="A community and resource hub for moms at every stage of their journey. Find articles, advice, and support on pregnancy, baby care, working motherhood, and more.">
<meta property="og:image" content="{% static 'images/og-image.jpg' %}">
<meta property="og:url" content="{{ request.build_absolute_uri }}">
<meta property="og:type" content="website">

<video autoplay muted loop playsinline class="w-full max-w-4xl mx-auto mt-10">
<source src="{% static 'Lokamom.mp4' %}" type="video/mp4">
Your browser does not support the video tag.
</video>

<div class="relative my-5 transform w-full max-w-4xl z-50">
<div id="animatedText" class="text-[#0f766e] text-center font-bold italic text-2xl md:text-3xl px-4 max-w-3xl mx-auto">
 </div>
</div>

<hr class="w-full bg-[#0f766e]">

<!-- START: Improved Features Section with SVGs -->
<div class="w-full my-10">
  
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl sm:text-4xl md:text-5xl my-10 font-semibold text-[#0f766e] font-serif text-center">What we offer</h1>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-8 text-center">

      <!-- Item 1: Articles -->
      <a href="{% url 'articles' %}" class="flex flex-col items-center group">
        <div class="flex items-center justify-center h-20 w-20 rounded-full bg-orange-100 text-[#0f766e] transform group-hover:scale-110 transition-transform duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 3.75h15A2.25 2.25 0 0121.75 6v12a2.25 2.25 0 01-2.25 2.25h-15A2.25 2.25 0 012.25 18V6a2.25 2.25 0 012.25-2.25z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 8h8M8 12h8M8 16h5" />
          </svg>
        </div>
        <h3 class="mt-4 text-lg font-semibold text-[#0f766e]">Articles</h3>
      </a>

      <!-- Item 2: Forums -->
      <a href="{% url 'forums' %}" class="flex flex-col items-center group">
        <div class="flex items-center justify-center h-20 w-20 rounded-full bg-orange-100 text-[#0f766e] transform group-hover:scale-110 transition-transform duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
            <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
          </svg>
        </div>
        <h3 class="mt-4 text-lg font-semibold text-[#0f766e]">Forums</h3>
      </a>

      <!-- Item 3: Women in Spotlight -->
      <a href="{% url 'WISList' %}" class="flex flex-col items-center group">
        <div class="flex items-center justify-center h-20 w-20 rounded-full bg-orange-100 text-[#0f766e] transform group-hover:scale-110 transition-transform duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.5l-.648-1.938a3.375 3.375 0 00-2.684-2.684l-1.938-.648 1.938-.648a3.375 3.375 0 002.684-2.684l.648-1.938.648 1.938a3.375 3.375 0 002.684 2.684l1.938.648-1.938.648a3.375 3.375 0 00-2.684 2.684z" />
          </svg>
        </div>
        <h3 class="mt-4 text-lg font-semibold text-[#0f766e]">Women in Spotlight</h3>
      </a>

      <!-- Item 4: Work & Career -->
      <a href="{% url 'work-career' %}" class="flex flex-col items-center group">
        <div class="flex items-center justify-center h-20 w-20 rounded-full bg-orange-100 text-[#0f766e] transform group-hover:scale-110 transition-transform duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.5a2.25 2.25 0 002.25 2.25h1.5A2.25 2.25 0 0015 18.75v-1.5m-6 0h6m-6 0H6.375a3.375 3.375 0 01-3.375-3.375V8.25a3.375 3.375 0 013.375-3.375h11.25a3.375 3.375 0 013.375 3.375v5.625a3.375 3.375 0 01-3.375 3.375H9.375z" />
          </svg>
        </div>
        <h3 class="mt-4 text-lg font-semibold text-[#0f766e]">Work & Career</h3>
      </a>

      <!-- Item 5: Therapy Sessions -->
      <a href="{% url 'letter' %}" class="flex flex-col items-center group col-span-2 sm:col-span-1">
        <div class="flex items-center justify-center h-20 w-20 rounded-full bg-orange-100 text-[#0f766e] transform group-hover:scale-110 transition-transform duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
          </svg>
        </div>
        <h3 class="mt-4 text-lg font-semibold text-[#0f766e]">Therapy Sessions</h3>
      </a>

    </div>
  </div>
</div>
<!-- END: New Features Section with SVGs -->

<hr class="w-full bg-[#0f766e]">

<div class="py-10">
<h1 class="text-3xl sm:text-4xl md:text-5xl my-4 font-semibold text-[#0f766e] font-serif text-center">Get a glimpse of our articles</h1>
</div>

<div class="masonry mb-10 max-w-5xl">
{% for article in article_data %}
 <div class="text-wrap p-4 mb-4 bg-orange-100 flex flex-col justify-between masonry-item">
 <h2 class="font-bold text-xl text-center text-[#0f766e] my-2">{{ article.title }}</h2>

 {% comment %} The image displayed depends on the article's section. Alt text is now populated for accessibility. {% endcomment %}
 {% if article.section == '1' %}
 <img src="{% static 'fives/working_1.png' %}" alt="Image for {{ article.title }} - Work life balance for moms" class="w-full h-auto my-2">
 {% elif article.section == '2' %}
 <img src="{% static 'fives/initial.png' %}" alt="Image for {{ article.title }} - New mom's guide to the first few weeks" class="w-full h-auto my-2 ">
 {% elif article.section == '3' %}
 <img src="{% static 'fives/pregnant_2.png' %}" alt="Image for {{ article.title }} - Tips for expecting mothers" class="w-full h-auto my-2 ">
 {% elif article.section == '4' %}
 <img src="{% static 'fives/baby.png' %}" alt="Image for {{ article.title }} - Baby care essentials and advice" class="w-full h-auto my-2">
 {% elif article.section == '5' %}
 <img src="{% static 'fives/work_again.png' %}" alt="Image for {{ article.title }} - Returning to work after maternity leave" class="w-full h-auto my-2 ">
 {% endif %}

 <p class="text-left mb-0 mt-2">
 {{ article.preview|safe }} <a href="{% url 'read_article' article.id %}" class="text-[#0f766e] font-semibold hover:underline">Read more</a>
 </p>
</div>
{% endfor %}
</div>

<script>
// This script remains the same, it handles the animated text.
window.addEventListener("DOMContentLoaded", () => {
 const sentence = `As a Mom, at whatever stage you are, you are doing great!`;
 const container = document.getElementById("animatedText");
 // Clear previous content to prevent duplication on hot reloads
 container.innerHTML = ''; 
 [...sentence].forEach((char, index) => {
 const span = document.createElement("span");
 span.textContent = char;
 span.className = "letter";
 // Add a small delay to the animation for each letter
 span.style.animationDelay = `${index * 0.025}s`;
 container.appendChild(span);
 });
});
</script>
{% endblock content %}

